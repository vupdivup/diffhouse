{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>diffhouse is a Python solution for structuring Git metadata, designed to enable large-scale codebase analysis at practical speeds.</p> <p>Key features are:</p> <ul> <li>Fast access to commit data, file changes and more</li> <li>Easy integration with <code>pandas</code> and <code>polars</code></li> <li>Simple-to-use Python interface</li> </ul>"},{"location":"#requirements","title":"Requirements","text":"Python 3.10 or higher Git 2.22 or higher <p>Git also needs to be added to the system PATH.</p>"},{"location":"#limitations","title":"Limitations","text":"<p>At its core, diffhouse is a data extraction tool and therefore does not calculate software metrics like code churn or cyclomatic complexity; if this is needed, take a look at PyDriller instead.</p> <p>Also note that revision data is limited to default branches only.</p>"},{"location":"api-reference/","title":"API Reference","text":""},{"location":"api-reference/#diffhouse","title":"diffhouse","text":"<p>Repository mining tool for structuring Git metadata at scale.</p>"},{"location":"api-reference/#diffhouse.Repo","title":"Repo","text":"<p>Git repository wrapper for querying mined data.</p> <p>When used via its <code>load()</code> method or in a <code>with</code> statement, it sets up a temporary clone to retrieve information; this may take long depending on the repository size and network speed.</p>"},{"location":"api-reference/#diffhouse.Repo.__init__","title":"__init__","text":"<pre><code>__init__(\n    location: str,\n    blobs: bool = False,\n    verbose: bool = False,\n)\n</code></pre> <p>Initialize the repository.</p> <p>When sourcing from a local path, the <code>blobs = False</code> filter     may not be available.</p> <p>Parameters:</p> Name Type Description Default <code>location</code> <code>str</code> <p>URL or local path pointing to a git repository.</p> required <code>blobs</code> <code>bool</code> <p>Whether to load file content and extract associated metadata.</p> <code>False</code> <code>verbose</code> <code>bool</code> <p>Whether to log progress to stdout.</p> <code>False</code>"},{"location":"api-reference/#diffhouse.Repo.load","title":"load","text":"<pre><code>load() -&gt; Repo\n</code></pre> <p>Load all repository data into memory.</p> <p>This is a convenience method to access objects without the <code>with</code> statement. For large repositories, take a look at the streaming options     instead.</p> <p>Returns:</p> Type Description <code>Repo</code> <p>self</p>"},{"location":"api-reference/#diffhouse.Repo.branches","title":"branches","text":"<pre><code>branches: list[str]\n</code></pre> <p>Branch names of the repository.</p>"},{"location":"api-reference/#diffhouse.Repo.tags","title":"tags","text":"<pre><code>tags: list[str]\n</code></pre> <p>Tag names of the repository.</p>"},{"location":"api-reference/#diffhouse.Repo.commits","title":"commits","text":"<pre><code>commits: list[Commit]\n</code></pre> <p>Commit history of the default branch.</p> <p>Requires <code>load()</code>.</p>"},{"location":"api-reference/#diffhouse.Repo.changed_files","title":"changed_files","text":"<pre><code>changed_files: list[ChangedFile]\n</code></pre> <p>Files of all default-branch commits.</p> <p>Requires <code>load()</code> and <code>blobs = True</code>.</p>"},{"location":"api-reference/#diffhouse.Repo.diffs","title":"diffs","text":"<pre><code>diffs: list[Diff]\n</code></pre> <p>Diffs of all default-branch commits.</p> <p>Requires <code>load()</code> and <code>blobs = True</code>.</p>"},{"location":"api-reference/#diffhouse.Repo.stream_commits","title":"stream_commits","text":"<pre><code>stream_commits() -&gt; Iterator[Commit]\n</code></pre> <p>Stream the commit history of the default branch.</p> <p>Requires wrapping the <code>Repo</code> in a <code>with</code> statement.</p> <p>Yields:</p> Type Description <code>Commit</code> <p>Commit data.</p>"},{"location":"api-reference/#diffhouse.Repo.stream_changed_files","title":"stream_changed_files","text":"<pre><code>stream_changed_files() -&gt; Iterator[ChangedFile]\n</code></pre> <p>Stream the files of all default-branch commits.</p> <p>Requires <code>blobs = True</code> and wrapping the <code>Repo</code> in a <code>with</code> statement.</p> <p>Yields:</p> Type Description <code>ChangedFile</code> <p>File change metadata.</p>"},{"location":"api-reference/#diffhouse.Repo.stream_diffs","title":"stream_diffs","text":"<pre><code>stream_diffs() -&gt; Iterator[Diff]\n</code></pre> <p>Stream diffs of all default-branch commits.</p> <p>Requires <code>blobs = True</code> and wrapping the <code>Repo</code> in a <code>with</code> statement.</p> <p>Yields:</p> Type Description <code>Diff</code> <p>Text diffs.</p>"},{"location":"api-reference/#diffhouse.Repo.location","title":"location","text":"<pre><code>location: str\n</code></pre> <p>Location where the repository was cloned from.</p> <p>Can either be a remote URL or a local file URI based on the original input.</p>"},{"location":"api-reference/#diffhouse.Commit","title":"Commit","text":"<p>Commit metadata.</p>"},{"location":"api-reference/#diffhouse.Commit.to_dict","title":"to_dict","text":"<pre><code>to_dict() -&gt; dict\n</code></pre> <p>Convert the object to a dictionary.</p> <p>Returns:</p> Type Description <code>dict</code> <p>A dictionary representation of the commit.</p>"},{"location":"api-reference/#diffhouse.Commit.commit_hash","title":"commit_hash","text":"<pre><code>commit_hash: str\n</code></pre> <p>Full hash of the commit.</p>"},{"location":"api-reference/#diffhouse.Commit.is_merge","title":"is_merge","text":"<pre><code>is_merge: bool\n</code></pre> <p>Whether the commit is a merge commit.</p>"},{"location":"api-reference/#diffhouse.Commit.parents","title":"parents","text":"<pre><code>parents: list[str]\n</code></pre> <p>List of parent commit hashes.</p>"},{"location":"api-reference/#diffhouse.Commit.author_name","title":"author_name","text":"<pre><code>author_name: str\n</code></pre> <p>Author name.</p>"},{"location":"api-reference/#diffhouse.Commit.author_email","title":"author_email","text":"<pre><code>author_email: str\n</code></pre> <p>Author email.</p>"},{"location":"api-reference/#diffhouse.Commit.author_date","title":"author_date","text":"<pre><code>author_date: str\n</code></pre> <p>Original commit date and time.</p> <p>Formatted as an ISO 8601 datetime string (YYYY-MM-DDTHH:MM:SS\u00b1HH:MM).</p>"},{"location":"api-reference/#diffhouse.Commit.committer_name","title":"committer_name","text":"<pre><code>committer_name: str\n</code></pre> <p>Committer name.</p>"},{"location":"api-reference/#diffhouse.Commit.committer_email","title":"committer_email","text":"<pre><code>committer_email: str\n</code></pre> <p>Committer email.</p>"},{"location":"api-reference/#diffhouse.Commit.committer_date","title":"committer_date","text":"<pre><code>committer_date: str\n</code></pre> <p>Actual commit date and time.</p> <p>Formatted as an ISO 8601 datetime string (YYYY-MM-DDTHH:MM:SS\u00b1HH:MM).</p>"},{"location":"api-reference/#diffhouse.Commit.message_subject","title":"message_subject","text":"<pre><code>message_subject: str\n</code></pre> <p>Commit message subject.</p>"},{"location":"api-reference/#diffhouse.Commit.message_body","title":"message_body","text":"<pre><code>message_body: str\n</code></pre> <p>Commit message body.</p>"},{"location":"api-reference/#diffhouse.Commit.files_changed","title":"files_changed","text":"<pre><code>files_changed: int | None\n</code></pre> <p>Number of files changed in the commit.</p> <p>Available if <code>blobs = True</code>.</p>"},{"location":"api-reference/#diffhouse.Commit.lines_added","title":"lines_added","text":"<pre><code>lines_added: int | None\n</code></pre> <p>Number of lines inserted in the commit.</p> <p>Available if <code>blobs = True</code>.</p>"},{"location":"api-reference/#diffhouse.Commit.lines_deleted","title":"lines_deleted","text":"<pre><code>lines_deleted: int | None\n</code></pre> <p>Number of lines deleted in the commit.</p> <p>Available if <code>blobs = True</code>.</p>"},{"location":"api-reference/#diffhouse.ChangedFile","title":"ChangedFile","text":"<p>Snapshot of a file that was modified in a specific commit.</p>"},{"location":"api-reference/#diffhouse.ChangedFile.to_dict","title":"to_dict","text":"<pre><code>to_dict() -&gt; dict\n</code></pre> <p>Convert the object to a dictionary.</p> <p>Returns:</p> Type Description <code>dict</code> <p>A dictionary representation of the changed file.</p>"},{"location":"api-reference/#diffhouse.ChangedFile.commit_hash","title":"commit_hash","text":"<pre><code>commit_hash: str\n</code></pre> <p>Full hash of the commit.</p>"},{"location":"api-reference/#diffhouse.ChangedFile.path_a","title":"path_a","text":"<pre><code>path_a: str\n</code></pre> <p>Path to the file before applying the commit's changes.</p>"},{"location":"api-reference/#diffhouse.ChangedFile.path_b","title":"path_b","text":"<pre><code>path_b: str\n</code></pre> <p>Path to the file after applying the commit's changes.</p> <p>Differs from <code>path_a</code> for renames and copies.</p>"},{"location":"api-reference/#diffhouse.ChangedFile.changed_file_id","title":"changed_file_id","text":"<pre><code>changed_file_id: str\n</code></pre> <p>Unique record identifier hashed from <code>commit_hash</code>, <code>path_a</code>, and <code>path_b</code>.</p>"},{"location":"api-reference/#diffhouse.ChangedFile.change_type","title":"change_type","text":"<pre><code>change_type: str\n</code></pre> <p>Single-letter code representing the change type.</p> <p>Most commonly one of <code>A</code> (added), <code>C</code> (copied), <code>D</code> (deleted), <code>M</code> (modified) or <code>R</code> (renamed). See git-status for all possible values.</p>"},{"location":"api-reference/#diffhouse.ChangedFile.similarity","title":"similarity","text":"<pre><code>similarity: int\n</code></pre> <p>Similarity index between the two file versions.</p> <p><code>0</code>-<code>100</code> for renames and copies, <code>100</code> otherwise.</p>"},{"location":"api-reference/#diffhouse.ChangedFile.lines_added","title":"lines_added","text":"<pre><code>lines_added: int\n</code></pre> <p>Number of lines added to the file in the commit.</p>"},{"location":"api-reference/#diffhouse.ChangedFile.lines_deleted","title":"lines_deleted","text":"<pre><code>lines_deleted: int\n</code></pre> <p>Number of lines deleted from the file in the commit.</p>"},{"location":"api-reference/#diffhouse.Diff","title":"Diff","text":"<p>Changes made to a hunk of code in a specific commit.</p>"},{"location":"api-reference/#diffhouse.Diff.to_dict","title":"to_dict","text":"<pre><code>to_dict() -&gt; dict\n</code></pre> <p>Convert the object to a dictionary.</p> <p>Returns:</p> Type Description <code>dict</code> <p>A dictionary representation of the diff.</p>"},{"location":"api-reference/#diffhouse.Diff.commit_hash","title":"commit_hash","text":"<pre><code>commit_hash: str\n</code></pre> <p>Full hash of the commit.</p>"},{"location":"api-reference/#diffhouse.Diff.path_a","title":"path_a","text":"<pre><code>path_a: str\n</code></pre> <p>Path to the file before applying the commit's changes.</p>"},{"location":"api-reference/#diffhouse.Diff.path_b","title":"path_b","text":"<pre><code>path_b: str\n</code></pre> <p>Path to the file after applying the commit's changes.</p> <p>Differs from <code>path_a</code> for renames and copies.</p>"},{"location":"api-reference/#diffhouse.Diff.changed_file_id","title":"changed_file_id","text":"<pre><code>changed_file_id: str\n</code></pre> <p>Hash of <code>commit_hash</code>, <code>path_a</code>, and <code>path_b</code>.</p> <p>Use it to match with a <code>ChangedFile</code>.</p>"},{"location":"api-reference/#diffhouse.Diff.start_a","title":"start_a","text":"<pre><code>start_a: int\n</code></pre> <p>Line number that starts the hunk in file version A.</p>"},{"location":"api-reference/#diffhouse.Diff.length_a","title":"length_a","text":"<pre><code>length_a: int\n</code></pre> <p>Line count of the hunk in file version A.</p>"},{"location":"api-reference/#diffhouse.Diff.start_b","title":"start_b","text":"<pre><code>start_b: int\n</code></pre> <p>Line number that starts the hunk in file version B.</p>"},{"location":"api-reference/#diffhouse.Diff.length_b","title":"length_b","text":"<pre><code>length_b: int\n</code></pre> <p>Line count of the hunk in file version B.</p>"},{"location":"api-reference/#diffhouse.Diff.lines_added","title":"lines_added","text":"<pre><code>lines_added: int\n</code></pre> <p>Number of lines added.</p>"},{"location":"api-reference/#diffhouse.Diff.lines_deleted","title":"lines_deleted","text":"<pre><code>lines_deleted: int\n</code></pre> <p>Number of lines deleted.</p>"},{"location":"api-reference/#diffhouse.Diff.additions","title":"additions","text":"<pre><code>additions: list[str]\n</code></pre> <p>Text content of added lines.</p>"},{"location":"api-reference/#diffhouse.Diff.deletions","title":"deletions","text":"<pre><code>deletions: list[str]\n</code></pre> <p>Text content of deleted lines.</p>"},{"location":"user-guide/","title":"User Guide","text":"<p>This guide aims to cover the basic use cases of diffhouse. For the list of available repository objects and fields, check out the API Reference.</p>"},{"location":"user-guide/#installation","title":"Installation","text":"<p>Install diffhouse through PyPi:</p> <pre><code>pip install diffhouse\n</code></pre>"},{"location":"user-guide/#quickstart","title":"Quickstart","text":"<pre><code>from diffhouse import Repo\n\nurl = 'https://github.com/user/repo'\n\nr = Repo(location = url, blobs = True).load()\n\nfor c in r.commits:\n    print(c.commit_hash[:10], c.committer_date, c.author_email)\n\nprint(r.branches)\nprint(r.diffs[0].to_dict())\n</code></pre> <p>First, construct a <code>Repo</code> object and define its target repository via the <code>location</code> argument; this can be either a remote URL or a local path. Pass <code>blobs = True</code> to extract file data as well.</p> <p>Calling <code>Repo.load()</code> will load all metadata into memory, which can then be accessed through the object's properties. See all properties</p> <p><code>blobs = True</code> requires a complete clone of the repository and therefore takes longer to execute. Omit this argument whenever possible.</p>"},{"location":"user-guide/#lazy-loading","title":"Lazy Loading","text":"<p>For large repositories, calling <code>load()</code> can be slow and/or take up gigabytes of memory. It is recommended to use the lazy method via <code>with</code> instead:</p> <pre><code>with Repo(location = url, blobs = True) as r:\n    c = list(r.stream_commits())\n\n    for d in r.stream_diffs():\n        if d.lines_added == 3:\n            break\n</code></pre> <p>This brings two big benefits:</p> <ol> <li>Object streaming functions are lazy generators, allowing for efficient memory use.</li> <li>No processing power is spent on objects that are not explicitly requested.</li> </ol> <p>See all streaming functions</p>"},{"location":"user-guide/#tabular-data","title":"Tabular Data","text":"<p><code>Commit</code>, <code>ChangedFile</code> and <code>Diff</code> iterables can be passed directly to pandas and polars <code>DataFrame</code> constructors. No pre-processing is needed; table schemas will be inferred correctly.</p> <pre><code>import polars as pl\n\ndf = pl.DataFrame(r.changed_files)\nprint(df.schema)\n</code></pre> <p>diffhouse stores datetime values as ISO 8601 strings to preserve time zone offsets. When converting these to datetime objects in a <code>DataFrame</code>, use the parser's UTC option.</p>"}]}